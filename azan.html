<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MakD Systems Techverse Feedback</title>

  <!-- Fav + vendor CSS (keep existing vendors) -->
  <link rel="icon" type="image/png" href="images/icons/favicon.ico"/>
  <link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
  <link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css">
  <link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">

  <!-- Your modified main stylesheet (replace css/main.css with the new content below) -->
  <link rel="stylesheet" type="text/css" href="css/main.css">

  <!-- small inline tweak to ensure body background matches admin MakD look -->
  <style>body{background: linear-gradient(135deg, #000000 0%, #0a0a0f 50%, #050507 100%) !important;} </style>
</head>
<body>

  <div class="container" style="padding:40px 18px;">
    <div class="feedback-shell">

      <!-- header -->
      <header class="feedback-header">
        <div class="brand">Techverse 2025 • Exhibition Feedback</div>
        <div class="meta">★ MakD Systems — Azan (23 Batch)</div>
      </header>

      <!-- glass card -->
      <main class="glass-card">
        <h1 class="form-title">Provide Your Valuable Feedback</h1>
        <p class="form-sub">Quick — select a project, answer a few short questions, leave a short feedback. Your input decides the winner!</p>

        <!-- form -->
        <form id="feedbackForm" class="contact1-form validate-form" action="send_mail.php" method="POST" autocomplete="off" novalidate>
          <!-- Name + Email row -->
          <div class="row">
            <div class="col-md-6">
              <label class="field-label">Name <span class="req">*</span></label>
              <input class="input1" type="text" name="name" placeholder="Your full name" required>
            </div>
            <div class="col-md-6">
              <label class="field-label">Email <span class="req">*</span></label>
              <input class="input1" type="email" name="email" placeholder="you@example.com" required>
            </div>
          </div>

          <!-- Department (replaces course) -->
          <div class="row">
            <div class="col-12">
              <label class="field-label">Department <span class="req">*</span></label>
              <input class="input1" type="text" id="department" name="department" placeholder="Enter your department (e.g. Computer Systems Engineering)" required>
            </div>
          </div>

          <!-- Project dropdown -->
          <div class="row">
            <div class="col-12">
              <label class="field-label">Which project you liked the most? <span class="req">*</span></label>
              <select id="project_select" name="project" class="select1" required>
                <option value="">-- Select a project --</option>
              </select>
            </div>
          </div>

          <!-- Rating -->
          <div class="row">
            <div class="col-12">
              <label class="field-label">How will you rate your overall experience? <span class="req">*</span></label>
              <div class="rating-group">
                <label class="rating-pill"><input type="radio" name="experience" value="Bad" required> Bad</label>
                <label class="rating-pill"><input type="radio" name="experience" value="Average"> Average</label>
                <label class="rating-pill"><input type="radio" name="experience" value="Good"> Good</label>
              </div>
            </div>
          </div>

          <!-- Five short questions (bigger boxes) -->
          <section class="short-qs">
            <h3 class="section-title">Quick Questions — (one-line or short paragraph)</h3>

            <div class="row q-row">
              <div class="col-md-6">
                <label class="field-label">1. Was the projects easy to understand?</label>
                <textarea id="q1" name="q1" class="big-text" placeholder="Type a short note (one or two lines)"></textarea>
              </div>
              <div class="col-md-6">
                <label class="field-label">2. Is the demo / visual clear?</label>
                <textarea id="q2" name="q2" class="big-text" placeholder="Type a short note"></textarea>
              </div>
            </div>

            <div class="row q-row">
              <div class="col-md-6">
                <label class="field-label">3. Would you recommend this kind of exhibitions for further tenure?</label>
                <textarea id="q3" name="q3" class="big-text" placeholder="Type a short note"></textarea>
              </div>
              <div class="col-md-6">
                <label class="field-label">4. Was the hardware / software robust?</label>
                <textarea id="q4" name="q4" class="big-text" placeholder="Type a short note"></textarea>
              </div>
            </div>

            <div class="row q-row">
              <div class="col-12">
                <label class="field-label">5. Any immediate improvement suggestion?</label>
                <textarea id="q5" name="q5" class="big-text" placeholder="Short suggestion"></textarea>
              </div>
            </div>
          </section>

          <!-- Main feedback larger textarea -->
          <div class="row">
            <div class="col-12">
              <label class="field-label">Detailed Feedback</label>
              <textarea class="input1 large" name="message" placeholder="Write more detailed feedback here (optional)" required></textarea>
            </div>
          </div>

          <!-- hidden summary field for q1..q5 -->
          <input type="hidden" name="short_questions_summary" id="short_questions_summary" value="">

          <!-- submit -->
          <div class="row">
            <div class="col-12" style="text-align:center;margin-top:8px;">
              <button class="contact1-form-btn" type="submit">
                <span>Submit <i class="fa fa-long-arrow-right" aria-hidden="true"></i></span>
              </button>
            </div>
          </div>

        </form>
      </main>

      <footer class="form-footer">
        <div>Expo Feedback System — Dawood University</div>
        <div class="small-muted">Quick → Reliable → Fair</div>
      </footer>

    </div>
  </div>

  <!-- vendor scripts -->
  <script src="vendor/jquery/jquery-3.2.1.min.js"></script>
  <script src="vendor/bootstrap/js/popper.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.min.js"></script>
  <script src="vendor/select2/select2.min.js"></script>
  <script src="vendor/tilt/tilt.jquery.min.js"></script>

  <script>
  // ensure tilt library still initialised (it's harmless without image)
  if (typeof $ !== 'undefined' && $('.js-tilt').length) {
    $('.js-tilt').tilt({ scale: 1.06 });
  }
  </script>

  <!-- form logic: load projects and combine short questions -->
  <script>
  document.addEventListener("DOMContentLoaded", function(){
    // populate projects dropdown from data/projects.json
    fetch("data/projects.json").then(r=>r.json()).then(data=>{
      const sel = document.getElementById("project_select");
      if(!sel) return;
      data.forEach(function(p){
        const opt = document.createElement("option");
        opt.value = p.name;
        opt.textContent = p.name;
        sel.appendChild(opt);
      });
    }).catch(e => console.warn("projects load failed", e));

    // on submit: collect q1..q5 and put into short_questions_summary
    const form = document.getElementById("feedbackForm");
    form.addEventListener("submit", function(e){
      // basic client-side validation for required fields (name,email,department,project,experience)
      const name = form.querySelector('[name="name"]').value.trim();
      const email = form.querySelector('[name="email"]').value.trim();
      const dept = form.querySelector('[name="department"]').value.trim();
      const project = form.querySelector('[name="project"]').value.trim();
      const experience = form.querySelector('input[name="experience"]:checked');

      if(!name || !email || !dept || !project || !experience){
        e.preventDefault();
        alert("Please fill Name, Email, Department, select a Project and choose experience.");
        return;
      }

      const q1 = (document.getElementById("q1") || {value:''}).value.trim();
      const q2 = (document.getElementById("q2") || {value:''}).value.trim();
      const q3 = (document.getElementById("q3") || {value:''}).value.trim();
      const q4 = (document.getElementById("q4") || {value:''}).value.trim();
      const q5 = (document.getElementById("q5") || {value:''}).value.trim();

      const summary = [
        "Q1: " + q1,
        "Q2: " + q2,
        "Q3: " + q3,
        "Q4: " + q4,
        "Q5: " + q5
      ].join("\n");

      document.getElementById("short_questions_summary").value = summary;

      // allow default form submit to send to server
      // UI improvement: show a tiny inline "sending" state for better UX
      const btn = document.querySelector('.contact1-form-btn');
      if(btn){
        btn.disabled = true;
        btn.style.opacity = "0.7";
        btn.innerHTML = 'Sending... <i class="fa fa-spinner fa-spin"></i>';
      }
    });

    // small enhancement: keep project_select searchable with select2 if loaded
    if (typeof $ !== 'undefined' && $.fn.select2) {
      $('#project_select').select2({ width: '100%' });
    }

    // admin floating button — matches MakD style (non-intrusive)
    const adminBtn = document.createElement("a");
    adminBtn.href = "admin/login.php";
    adminBtn.textContent = "Admin";
    adminBtn.className = "admin-floating";
    document.body.appendChild(adminBtn);
  });
  </script>

</body>
</html>
